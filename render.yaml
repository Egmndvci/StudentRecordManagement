databases:
  - name: student-db
    region: frankfurt
    plan: free

services:
  - type: web
    name: student-record-app
    region: frankfurt
    plan: free
    env: java
    build:
      command: "mvn clean package"
    start:
      command: "java -jar target/StudentRecordManagement-0.0.1-SNAPSHOT.jar"
    envVars:
      - key: spring.jpa.hibernate.ddl-auto
        value: update
      - key: DB_HOST
        fromDatabase:
          name: student-db
          property: host
      - key: DB_PORT
        fromDatabase:
Screen-record.dev:
  name: student-db
  property: port
  - key: DB_NAME
    fromDatabase:
      name: student-db
      property: database
  - key: spring.datasource.url
    value: "jdbc:postgresql://${DB_HOST}:${DB_PORT}/${DB_NAME}"
  - key: spring.datasource.username
    fromDatabase:
      name: student-db
      property: user
  - key: spring.datasource.password
    fromDatabase:
      name: student-db
      property: password